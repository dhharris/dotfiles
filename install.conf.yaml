- defaults:
    link:
      relink: true

- clean: ['~', '~/.config']

- create:
    - ~/.ssh/controlmaster

- link:
    ~/.vimrc: vim/vimrc
    ~/.bash_profile: shell/bash_profile
    ~/.bashrc: shell/bashrc
    ~/.inputrc: shell/inputrc
    ~/.tmux.conf: tmux/tmux.conf
    ~/.gitconfig: git/gitconfig
    ~/.hgrc: hg/hgrc
    ~/.clang-format: cpp/clang-format
    ~/.myclirc: mysql/myclirc
    ~/.eslintrc.json: js/eslintrc.json
    ~/.config/flake8: py/flake8
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    ~/.config/beets/config.yaml: beets/config.yaml
    ~/.ssh/config: ssh/ssh_config
    ~/.tridactylrc: 
      if: '[ $(uname) = Darwin ]'
      path: firefox/tridactylrc
    ~/.config/karabiner: 
      if: '[ $(uname) = Darwin ]'
      path: keyboard
      create: true
    ~/.mpdconf:
      if: '[ $(uname) = Darwin ]'
      path: mpd/mpd.conf
    ~/.config/mpd/.mpd.conf:
      create: true
      path: mpd/mpd.conf

- shell:
    - [chsh -s $(which bash), Making bash the default shell]
    - command: bash tridactyl/native/install.sh
      stdout: false
      stderr: true
      description: Installing tridactyl native
      quiet: true
    -
      command: vim --not-a-term +PluginInstall +qall
      stdout: false
      description: Updating vim plugins
      quiet: true
